<% if (totalPages > 1) { %>
<ul class="pagination text-center">
    <% if (currentPage == 1) { %>
        <li class="page-item disabled first"><a class="page-link">First</a></li>
    <% } else { %>
        <li class="page-item first"><a class="page-link" href="<%= basePath.replace('___PAGE___', 1) %>">First</a></li>
    <% } %>

    <% var i = (currentPage > 5 ? currentPage - 4 : 1) %>

    <% if (i !== 1) { %>
        <li class="page-item disabled"><a class="page-link">...</a></li>
    <% } %>

    <% for (; i <= (currentPage + 4) && i <= totalPages; i++) { %>
        <% if (i == currentPage) { %>
            <li class="page-item active"><a class="page-link"><%= i %></a></li>
        <% } else { %>
            <li class="page-item"><a class="page-link" href="<%= basePath.replace('___PAGE___', i) %>"><%= i %></a></li>
        <% } %>
        <% if (i == currentPage + 4 && i < totalPages) { %>
            <li class="page-item disabled"><a class="page-link">...</a></li>
        <% } %>
    <% } %>
    
    <% if (currentPage == totalPages) { %>
        <li class="page-item disabled next"><a class="page-link">Next <i class="icon-chevron-right"></i></a></li>
    <% } else { %>
        <li class="page-item next"><a class="page-link" href="<%= basePath.replace('___PAGE___', currentPage + 1) %>">Next <i class="icon-chevron-right"></i></a></li>
    <% } %>
    
    <% if (currentPage == totalPages) { %>
        <li class="page-item disabled last"><a class="page-link">Last</a></li>
    <% } else { %>
        <li class="page-item last"><a class="page-link" href="<%= basePath.replace('___PAGE___', totalPages) %>">Last</a></li>
    <% } %>
</ul>
<% } %>
